@using ChokaQ.Dashboard.Components.Features
@using ChokaQ.Dashboard.Components.Shared
@using ChokaQ.Dashboard.Models
@using Microsoft.AspNetCore.Components.Web

<div class="cq-layout @CurrentThemeClass">

    @* Zone 1: Sidebar *@
    <div class="cq-zone-1">
        <span class="cq-placeholder">1</span>
    </div>

    @* Zone 2: Header *@
    <div class="cq-zone-2">
        <div class="cq-flex cq-align-items-baseline cq-gap-1">
            <h5 class="cq-margin-bottom-0 cq-font-bold">CHOKAQ</h5>
            <small style="color: var(--cq-text-muted)">v1.0.0</small>
        </div>
        <div class="cq-margin-left-auto">
            <select class="cq-select" style="width: 140px;"
                    value="@_currentTheme"
                    @onchange="@(e => HandleThemeChanged(e.Value?.ToString() ?? "office"))">
                <option value="office">Return to Office</option>
                <option value="nightshift">Night Shift</option>
                <option value="caviar">Black Caviar</option>
                <option value="flashbang">Flashbang</option>
                <option value="kiddie">Script Kiddie</option>
                <option value="bsod">Blue Screen</option>
                <option value="bravosix">Bravo Six</option>
                <option value="carbon">Carbon</option>
                <option value="async">Async</option>
            </select>
        </div>
    </div>

    @* Zone 5: Queue List *@
    <div class="cq-zone-5">
        <QueueManager HubConnection="_hubConnection" />
    </div>

    @* Zone 7+X1 Row *@
    <div class="cq-row-7-x1">
        <div class="cq-zone-7">
            <StatsCard Counts="_counts" OnStatusSelected="SetStatusFilter" SelectedStatus="_activeStatusFilter" />
        </div>
        <div class="cq-zone-x1">
            <DashboardSettings OnSettingsApplied="HandleSettingsUpdated" />
        </div>
    </div>

    @* Zone 9+X2 Row *@
    <div class="cq-row-9-x2">
        <div class="cq-zone-9">
            <JobFeed Jobs="_jobs"
                     Counts="_counts"
                     IsConnected="IsConnected"
                     HubConnection="_hubConnection"
                     OnClearHistory="ClearHistory" />
        </div>
        <div class="cq-zone-x2">
            <CircuitMonitor @ref="_circuitMonitor" />
        </div>
    </div>

    @* Zone 10+11 Row (Footer) *@
    <div class="cq-row-10-11">
        <div class="cq-zone-10">
            <span class="cq-placeholder">10 (logs)</span>
        </div>
        <div class="cq-zone-11">
            <span class="cq-placeholder">11 (reserved)</span>
        </div>
    </div>

</div>

