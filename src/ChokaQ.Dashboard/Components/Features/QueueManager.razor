<div class="cq-overflow-auto cq-height-100">
        @if (!_queues.Any())
        {
            <div class="cq-padding-4 cq-text-align-center cq-text-muted cq-font-size-small">
                @if (_isLoading)
                {
                    <span>Loading queues...</span>
                }
                else
                {
                    <span>No queues found. Send a job to 'default' queue to see it here.</span>
                }
            </div>
        }
        else
        {
            <table class="cq-table cq-margin-bottom-0" style="color: var(--cq-text); font-size: 0.75rem;">
                <thead style="background-color: rgba(0,0,0,0.02); text-transform: uppercase;">
                    <tr>
                        <th class="cq-padding-left-1" style="width: 25%">Queue</th>
                        <th class="cq-text-align-center" style="width: 20%">Jobs (Succeeded / Failed)</th>

                        <th class="cq-text-align-center" style="width: 12%">Status</th>
                        <th class="cq-text-align-center" style="width: 12%">Pause/Resume</th>
                        <th class="cq-text-align-center" style="width: 15%">Zombie Timeout (s)</th>
                        <th class="cq-text-align-end" style="width: 16%">Last Updated</th>
                        <th class="cq-text-align-end cq-padding-right-1" style="width: 5%"></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var q in _visibleQueues)
                    {
                        var stats = GetQueueStats(q.Name);
                        <tr style="border-bottom: 1px solid var(--cq-border); transition: background-color 0.3s;">

                            <td class="cq-padding-left-1 cq-align-middle">
                                <span class="cq-font-bold font-monospace">@q.Name</span>
                            </td>

                            <td class="cq-align-middle cq-text-align-center font-monospace" style="font-size: 0.8rem;">
                                @if (stats != null)
                                {
                                    <span title="Succeeded / Failed">
                                        <span style="color: var(--cq-success)">@stats.SucceededTotal.ToString("N0")</span> / <span style="color: var(--cq-danger)">@stats.FailedTotal.ToString("N0")</span>
                                    </span>
                                }
                                else
                                {
                                    <span class="cq-text-muted">0 / 0</span>
                                }
                            </td>



                            <td class="cq-align-middle cq-text-align-center">
                                <span class="@GetStatusBadgeClass(q)">
                                    @GetQueueStatus(q)
                                </span>
                            </td>

                            <td class="cq-align-middle cq-text-align-center">
                                <div class="cq-display-inline-block" style="min-height: 0;">
                                    <input class="cq-toggle" type="checkbox"
                                           style="width: 2.5em; height: 1.2em; margin-top: 0;"
                                           id="q_@q.Name"
                                           checked="@(!q.IsPaused)"
                                           @onchange="@(e => ToggleQueue(q.Name, (bool)e.Value!))">
                                </div>
                            </td>

                            <td class="cq-align-middle cq-text-align-center">
                                <input type="number"
                                       class="cq-input cq-text-align-center cq-margin-auto"
                                       style="height: 26px; font-size: 0.75rem; width: 100px;"
                                       placeholder="Global (600)"
                                       value="@q.ZombieTimeoutSeconds"
                                       @onchange="@(e => UpdateTimeout(q.Name, e.Value))" />
                            </td>

                            <td class="cq-align-middle cq-text-align-end cq-text-muted">
                                <span>@q.LastUpdatedUtc.ToLocalTime().ToString("yyyy-MM-dd HH:mm")</span>
                            </td>

                            <td class="cq-padding-right-1 cq-text-align-end cq-align-middle">
                                @if (!q.IsActive)
                                {
                                    <button class="cq-btn cq-btn-sm cq-btn-link text-decoration-none cq-text-muted cq-padding-0"
                                            title="Hide inactive queue"
                                            @onclick="() => HideQueue(q.Name)">
                                        X
                                    </button>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
